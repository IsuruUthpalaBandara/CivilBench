<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CivilBench</title>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }

    body {
      background: #fafafa;
      color: #222;
    }

    /* ---------- NAVBAR ---------- */
    .navbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 14px;
      background: #0b132b;
      color: #fff;
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .brand {
      font-size: 1.05rem;
      font-weight: 600;
      white-space: nowrap;
    }

    .nav-center {
      display: flex;
      gap: 10px;
      white-space: nowrap;
    }

    .nav-link {
      text-decoration: none;
      color: #cbd5e1;
      font-size: 0.85rem;
      padding: 6px 8px;
      border-radius: 6px;
    }

    .nav-link.active {
      background: #2563eb;
      color: #fff;
      font-weight: 500;
    }

    .post-job-btn {
      background: #22c55e;
      border: none;
      color: #000;
      font-size: 0.8rem;
      padding: 6px 10px;
      border-radius: 6px;
      cursor: pointer;
      white-space: nowrap;
    }

    @media (max-width: 640px) {
      .nav-link { font-size: 0.75rem; padding: 5px 6px; }
      .post-job-btn { font-size: 0.75rem; padding: 5px 8px; }
    }

    /* ---------- CONTAINER ---------- */
    .container {
      max-width: 720px;
      margin: 20px auto;
      padding: 0 16px;
    }

    /* ---------- JOB CARD ---------- */
    .job {
      background: #fff;
      padding: 14px;
      margin-bottom: 14px;
      border-radius: 6px;
      border: 1px solid #e6e6e6;
    }

    .job-title {
      font-weight: 700;
      font-size: 1rem;
      margin-bottom: 6px;
    }

    .job-description {
      font-size: 0.92rem;
      margin-bottom: 8px;
    }

    .job-email {
      font-size: 0.88rem;
      color: #8b0000;
      font-style: italic;
    }

    /* ---------- PAGES ---------- */
    .page { display: none; }
    .page.active { display: block; }

    /* ---------- FORM ---------- */
    form {
      background: #fff;
      padding: 16px;
      border: 1px solid #e6e6e6;
      border-radius: 6px;
    }

    label {
      display: block;
      font-size: 0.85rem;
      margin-bottom: 4px;
      font-weight: 500;
    }

    input, textarea {
      width: 100%;
      padding: 8px;
      margin-bottom: 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 0.9rem;
    }

    textarea { min-height: 100px; }

    .checkbox {
      display: flex;
      gap: 8px;
      font-size: 0.8rem;
      margin-bottom: 12px;
    }

    .submit-btn {
      padding: 9px 14px;
      background: #000;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9rem;
    }

    .success {
      margin-top: 10px;
      color: green;
      font-size: 0.85rem;
      display: none;
    }

    /* ---------- LEGAL PAGES ---------- */
    .legal h1 { font-size: 1.4rem; margin-bottom: 10px; }
    .legal h2 { font-size: 1rem; margin: 20px 0 8px; }
    .legal p, .legal li {
      font-size: 0.95rem;
      line-height: 1.7;
      margin-bottom: 10px;
    }
  </style>
</head>

<body>

<nav class="navbar">
  <span class="brand">CivilBench</span>

  <div class="nav-center">
    <a href="#" class="nav-link active" onclick="showPage('home')">Home</a>
    <a href="#" class="nav-link" onclick="showPage('about')">About</a>
    <a href="#" class="nav-link" onclick="showPage('privacy')">Privacy</a>
  </div>

  <button class="post-job-btn" onclick="showPage('post')">Post Job</button>
</nav>

<div class="container">

  <!-- HOME -->
  <div id="home" class="page active">
    <div id="jobs"></div>
  </div>

  <!-- POST -->
  <div id="post" class="page">
    <h2>Post a Freelance Job</h2>
    <form onsubmit="submitJob(event)">
      <label>Job Title</label>
      <input id="title" required>

      <label>Description</label>
      <textarea id="description" required></textarea>

      <label>Email</label>
      <input id="email" type="email" required>

      <div class="checkbox">
        <input type="checkbox" required>
        <label>I agree to the Privacy Policy</label>
      </div>

      <button class="submit-btn">Submit Job</button>
      <div id="successMessage" class="success"></div>
    </form>
  </div>

  <!-- ABOUT -->
  <div id="about" class="page legal">
    <style>
  #about {
    max-width: 800px;
    margin: 20px auto;
    padding: 0 16px;
    color: #222;
    line-height: 1.7;
  }

  #about h1 {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 12px;
  }

  #about h2 {
    font-size: 1.05rem;
    margin-top: 26px;
    margin-bottom: 8px;
    font-weight: 600;
  }

  #about p {
    margin-bottom: 14px;
    font-size: 0.95rem;
  }

  #about ul {
    margin: 10px 0 16px 20px;
  }

  #about li {
    margin-bottom: 6px;
    font-size: 0.95rem;
  }

  #about .highlight {
    background: #ffffff;
    border: 1px solid #e0e0e0;
    border-radius: 6px;
    padding: 14px;
    margin-top: 20px;
  }

  @media (max-width: 600px) {
    #about h1 {
      font-size: 1.3rem;
    }

    #about h2 {
      font-size: 1rem;
    }
  }
</style>

<h1>About CivilBench</h1>

<p>
  <strong>CivilBench</strong> is a simple and transparent platform built to connect
  civil engineering professionals with real freelance work opportunities — without
  accounts, subscriptions, or intermediaries.
</p>

<p>
  We believe that skilled civil engineers, designers, and drafters should be able to
  access work directly and communicate professionally without unnecessary complexity.
  CivilBench exists to remove friction and make freelance collaboration straightforward.
</p>

<h2>Our Purpose</h2>
<p>
  CivilBench was created to serve the global civil engineering community by providing
  a focused space where project owners can post genuine freelance opportunities and
  professionals can discover work relevant to their expertise.
</p>

<h2>How CivilBench Works</h2>
<ul>
  <li>Job posters submit freelance opportunities without creating an account</li>
  <li>Email verification ensures basic authenticity and reduces spam</li>
  <li>Verified job listings are displayed publicly</li>
  <li>Freelancers contact job posters directly via professional email</li>
</ul>

<h2>What Makes CivilBench Different</h2>
<ul>
  <li>No user registrations or profiles</li>
  <li>No commissions or platform fees</li>
  <li>No interference in communication or negotiations</li>
  <li>Minimal, focused experience built for civil engineering work</li>
</ul>

<h2>Our Vision</h2>
<p>
  Our vision is to grow CivilBench into a trusted global reference point for civil
  engineering freelance work — a platform known for clarity, professionalism, and
  respect for both job posters and freelancers.
</p>

<div class="highlight">
  <p>
    CivilBench does not act as an employer, recruiter, or agent. We simply provide
    the infrastructure for listing opportunities and enabling direct professional
    contact between parties.
  </p>
</div>

  </div>

  <!-- PRIVACY -->
  <div id="privacy" class="page legal">
    <h1>Privacy Policy</h1>
    <p>We collect only job details and email addresses for verification purposes.</p>
    <p>Contact: <a href="mailto:support@civilbench.com">support@civilbench.com</a></p>
  </div>

</div>

<script>
  function showPage(id) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(id).classList.add('active');

    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
    if (id !== 'post') {
      document.querySelector(`.nav-link[onclick*="${id}"]`)?.classList.add('active');
    }
  }

  async function submitJob(e) {
    e.preventDefault();

    const title = document.getElementById("title").value;
    const description = document.getElementById("description").value;
    const email = document.getElementById("email").value;

    const res = await fetch("/api/post-job", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ title, description, email })
    });

    if (res.ok) {
      const msg = document.getElementById("successMessage");
      msg.textContent = "Verification email sent. Please check your inbox.";
      msg.style.display = "block";
      e.target.reset();
    }
  }

  async function loadJobs() {
    const res = await fetch("/api/get-jobs");
    const jobs = await res.json();
    const container = document.getElementById("jobs");
    container.innerHTML = "";

    jobs.forEach(job => {
      container.innerHTML += `
        <div class="job">
          <div class="job-title">${job.title}</div>
          <div class="job-description">${job.description}</div>
          <div class="job-email">${job.email}</div>
        </div>
      `;
    });
  }

  document.addEventListener("DOMContentLoaded", loadJobs);
</script>

</body>
</html>

